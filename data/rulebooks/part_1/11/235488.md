## Comprehensive Reference Manual

### 1. Lore & Objective  
The Istanbul Dice Game is a solo dice-driven adaptation of the board game Istanbul. In solo play, the player navigates the bazaar, manages resources, and collects gems under constrained conditions. The core challenge is efficient decision-making under time (round) limits imposed by a diminishing pool of mosque tiles.

There are two primary solo objectives:
- **Variant 1 (Beat Your Own Score)**: Maximize your total score (gems + converted coins) within a limited number of rounds.
- **Variant 2 (Victory Condition)**: Collect 7 gems before running out of mosque tiles, with difficulty levels adjusting the starting count.

### 2. Components  
- Dice (as in base game)  
- Bazaar board with trade areas  
- 6 Mosque tiles (face up at start)  
- Additional Mosque tiles (used as round tracker)  
- Gems (ruby and other types)  
- 1 Crystal (starting resource)  
- Coins (generated during play)  
- Cards (as in base game; ignore multiplayer references)

### 3. Setup  
**General Setup (All Variants):**
- Start with 1 crystal and 0 coins.
- Set up cards and board as in a 2-player game.
- Place only 1 ruby on each of the 5x mosque tile reward spaces (instead of 2 or 3).
- For **Gems**: Set up like 2-player game, then remove 1 gem from each of the 6 bazaars. This results in:
  - Only 2 gems per resource-specific bazaar
  - Only 1 gem on each of the 5x mosque tile spaces

**Variant 1 & 2 (Timer Setup – Pedro Correia "AndrePOR"):**
- 24 total mosque tiles: 6 face up, 18 face down (Very Easy difficulty)
- At end of each round, discard one face-up tile.
- If a mosque tile was purchased during the round, replace the discarded one immediately from the draw pile.
- Game ends when only 6 face-up tiles remain and no replacements are possible.

**Alternative Setup (Stawek Wiechowski Variant):**
- Place 6 mosque tiles face up below the board.
- Shuffle remaining tiles and place 10 face-down in front of you (round tracker).
- Remaining tiles go into a draw pile.
- Game lasts exactly 10 rounds.

### 4. Gameplay Flow  
**Standard Turn Order (Base Game Phases):**
1. **Reveal Mosque Tile (Stawek Variant Only):** Reveal the next face-down mosque tile and take its benefit once.
2. **Take Income:** Collect income as normal (based on dice values and occupied spaces).
3. **Roll Dice:** Roll all dice.
4. **Carry Out Actions:** Use dice to perform actions (move, trade, deliver, etc.).
5. **Ruby Placement Step (Stawek Variant Only):**
   - Roll one die to determine which area’s ruby must be taken.
   - Remove the **cheapest (lowest-cost)** available ruby from that area.
   - Place it on the mosque tile revealed at the start of the turn.
   - If no ruby exists in the indicated area, choose any ruby from another area.

**End of Round:**
- Discard one face-up mosque tile (AndrePOR variants).
- Replace it if you purchased a mosque tile this round (AndrePOR).
- Proceed to next round until timer ends.

### 5. Core Mechanics  
- **Dice Actions:** Use dice to move or activate locations. Dice placement and reroll strategy remain central.
- **Resource Management:** Collect and spend resources (especially rubies) efficiently.
- **Ruby Removal Rule (Stawek Variant):**
  - One ruby **must** be removed from the board each round.
  - Must take the cheapest available ruby from the designated area.
  - If area is empty, player chooses any ruby from any other area.
- **Mosque Tile Bonuses:** Provide one-time or ongoing benefits when revealed or acquired.
- **Crystal Use:** Can be used as wild resource; sold for 1 coin at endgame.

### 6. Scoring & End Game  
**End Game Trigger:**
- **AndrePOR Variants:** Game ends when only 6 face-up mosque tiles remain and no replacements are possible (last round played).
- **Stawek Variant:** Game ends after 10 rounds.

**Scoring (Variant 1 – Beat Your Own Score):**
- Count all collected gems.
- Sell all leftover resources:
  - Extra resources → 3 coins each
  - Crystals → 1 coin each
- Final Score = Number of gems + total coins
- Example: 9 gems + 13 coins = 22 points

**Win Condition (Variant 2 – Victory Condition):**
- Goal: Acquire **7 gems** before the mosque tile timer runs out.
- Difficulty levels adjust starting mosque tile count:
  - Very Easy: 24 tiles (18 face down + 6 face up)
  - Easy: 22 tiles (16 + 6)
  - Normal: 20 tiles (14 + 6)
  - Hard: 18 tiles (12 + 6)
  - Very Hard: 16 tiles (10 + 6)
  - Impossible: 14 tiles (8 + 6)
- Win if 7 gems are collected within the allowed rounds.
- Coins are scored for comparison between attempts.

### 7. FAQ or Edge Cases  
**Q: What happens if I can’t replace a discarded mosque tile?**  
A: When you discard a face-up tile and have no tiles in the draw pile to replace it (because you didn’t buy one or pile is empty), continue with fewer face-up tiles. Game ends when you cannot replace after discard and only 6 remain.

**Q: Do I get the benefit of a mosque tile when I buy it?**  
A: Yes, unless otherwise specified. Purchased tiles grant their bonus upon acquisition.

**Q: Can I choose which ruby to remove if the die shows an empty area?**  
A: Yes. If the rolled area has no rubies, you may remove the cheapest ruby from **any** other area.

**Q: Is the ruby removed in Stawek’s variant spent or just removed?**  
A: It is **placed on the revealed mosque tile**, fulfilling a placement requirement. It is not returned to stock.

**Q: Are all three variants compatible?**  
A: No. AndrePOR’s variants (1 and 2) use a flexible tile count as timer. Stawek’s uses exactly 10 rounds with forced ruby placement. Choose one system.

---